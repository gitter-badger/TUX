<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js"><span id='Ext-tux-fx-animation-TimeMachine'>/**
</span> * @class Ext.tux.fx.animation.TimeMachine
 * @extend Ext.fx.animation.Abstract
 * @author Andrea Cammarata
 * @docauthor Andrea Cammarata
 * @aside example time-machine
 * Custom TimeMachine animation.
 */
Ext.define('Ext.tux.fx.animation.TimeMachine', {
    extend: 'Ext.fx.animation.Abstract',
    alias: 'animation.timemachine',
    config: {
       
<span id='Ext-tux-fx-animation-TimeMachine-cfg-direction'>        /**
</span>         * @cfg {String} direction The direction of which the slide animates
         * @accessor
         */
        direction: 'future',

<span id='Ext-tux-fx-animation-TimeMachine-cfg-out'>        out: null
</span>
    },

<span id='Ext-tux-fx-animation-TimeMachine-property-DIRECTION_FUTURE'>    /**
</span>     * This animation supports the &quot;future&quot; direction.
     * If this direction is used, the previous card will
     * be sended back in past and the new one will appears from the future.
     */
    DIRECTION_FUTURE: 'future',
    
<span id='Ext-tux-fx-animation-TimeMachine-property-DIRECTION_PAST'>    /**
</span>     * This animation supports the &quot;past&quot; direction.
     * If this direction is used, the previous card will
     * be sended back to the future and the new one will appears from the past.
     */
    DIRECTION_PAST: 'past',
    
<span id='Ext-tux-fx-animation-TimeMachine-method-getData'>    // @private
</span>    getData: function() {
    
        var from = this.getFrom(),
            to = this.getTo(),
            direction = this.getDirection(),
            out = this.getOut(),
            minScale = 0.6,
            maxScale = 1.6, 
            fromTransform = {},
            toTransform = {},
            opacity = {}
            
        if(out){
            opacity = { from: 1, to: 0 };
        }else{
            opacity = { from: 0, to: 1 };
        }

        switch (direction) {
    
            case this.DIRECTION_PAST:

                if (out) {
                    toTransform = { scaleX: maxScale, scaleY: maxScale };
                }
                else {
                    fromTransform = { scaleX: minScale, scaleY: minScale };
                }

                break;

            case this.DIRECTION_FUTURE:
            
                if (out) {
                    toTransform = { scaleX: minScale, scaleY: minScale };
                }else{
                    fromTransform = { scaleX: maxScale, scaleY: maxScale };
                }

                break;

        }

        from.set({ 
            'opacity': opacity.from,
            'transform': fromTransform
        });
    
        to.set({ 
            'opacity': opacity.to,
            'transform': toTransform
        });

        return this.callParent(arguments);
    }

});
</pre>
</body>
</html>
